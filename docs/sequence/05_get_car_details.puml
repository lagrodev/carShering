@startuml Get Car Details
title Получение деталей автомобиля

skinparam backgroundColor white
skinparam sequenceArrowThickness 1
skinparam participant {
    BackgroundColor<<User>> #FFB6C1
    BackgroundColor<<Frontend>> #FFFACD
    BackgroundColor<<Server>> #ADD8E6
    BackgroundColor<<Database>> #E6E6FA
}

actor User <<User>>
participant "Frontend" as Frontend <<Frontend>>
participant "API" as API <<Server>>
database "Database" as DB <<Database>>

User -> Frontend: Нажимает на карточку автомобиля

Frontend -> API: GET /api/car/{id}

API -> DB: Загрузить данные автомобиля
DB --> API: Данные авто + модель + бренд

API -> DB: Загрузить изображения
DB --> API: Список изображений

API -> DB: Загрузить занятые периоды
DB --> API: Список бронирований

opt Пользователь авторизован
    API -> DB: Проверить в избранном
    DB --> API: true/false
end

API --> Frontend: 200 OK + CarDetailsDto

Frontend -> Frontend: Отобразить галерею
Frontend -> Frontend: Отобразить календарь доступности
Frontend --> User: Показать страницу с деталями

@enduml

