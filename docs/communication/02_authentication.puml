@startuml Authentication Communication
frontend -left-> user : 12: Перенаправление на главную
frontend -> frontend : 11: Сохранить в cookies
api -left-> frontend : 10: 200 OK + {token, user}
db -left-> api : 9: Токен сохранён
api -right-> db : 8: Сохранить refresh token
api -> api : 7: Генерация JWT
api -> api : 6: Проверка статуса
api -> api : 5: Проверка пароля (BCrypt)
db -left-> api : 4: Данные пользователя
api -right-> db : 3: Найти пользователя
frontend -right-> api : 2: POST /api/auth/login
user -right-> frontend : 1: Вводит email и пароль

database "Database" as db #E6E6FA
rectangle "API" as api #ADD8E6
rectangle "Frontend" as frontend #FFFACD
actor User as user

skinparam defaultTextAlignment center
skinparam componentStyle rectangle
skinparam backgroundColor white

title Аутентификация (Вход) - Communication Diagram
@enduml
