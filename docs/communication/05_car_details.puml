@startuml Car Details Communication
title Получение деталей автомобиля - Communication Diagram

skinparam backgroundColor white
skinparam componentStyle rectangle
skinparam defaultTextAlignment center

actor User as user
rectangle "Frontend" as frontend #FFFACD
rectangle "API" as api #ADD8E6
database "Database" as db #E6E6FA

user -right-> frontend : 1: Нажимает на карточку
frontend -right-> api : 2: GET /api/car/{id}
api -right-> db : 3: Загрузить авто
db -left-> api : 4: Данные авто
api -right-> db : 5: Загрузить изображения
db -left-> api : 6: Список фото
api -right-> db : 7: Загрузить бронирования
db -left-> api : 8: Занятые периоды
api -right-> db : 9: [opt] Проверить избранное
db -left-> api : 10: true/false
api -left-> frontend : 11: 200 OK + CarDetailsDto
frontend -> frontend : 12: Отобразить галерею
frontend -> frontend : 13: Отобразить календарь
frontend -left-> user : 14: Страница с деталями

@enduml

